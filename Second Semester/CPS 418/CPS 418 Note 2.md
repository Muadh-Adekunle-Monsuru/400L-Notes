## Modelling & Simulation: Comprehensive Notes
### 1. Random Numbers Generation

#### Introduction to Random Number Generation

Random number generation is crucial in simulations. When a built-in Random Number Generator (RNG) is unavailable, developers must implement one manually. Classical RNGs tend to have short periods and low uniformity, while modern congruential generators offer longer periods and better uniformity.

#### Congruential Method

The congruential method is based on modulo arithmetic. The formula is given by:
$X_{n+1} = (aX_n + c) \pmod m$

Where:
* $X_0$: Seed (initial value)
* $a, c, m$: Carefully selected constants

**Types of Congruential Generators:**
* **Mixed Congruential Method:** $c \ne 0$
* **Multiplicative Method:** $c = 0$

**Example:**
Using $a=5$, $c=7$, $m=8$, $X_0=4$:
* $X_1 = (5 \times 4 + 7) \pmod 8 = 27 \pmod 8 = 3$
* $X_2 = (5 \times 3 + 7) \pmod 8 = 22 \pmod 8 = 6$
* The cycle repeats when $X_8 = 4$.

**Scaling to a Desired Range [p, m]:**
$X_{n+1} = ((aX_n + c) \pmod{m+1-p}) + p$

**Choosing `a`, `c`, and `m`**
For a full period, `a` and `m` must be carefully chosen based on Knuth's Rules:
* If `m` is prime, `c` can be 0.
* **Conditions for full period (for Mixed Congruential Method):**
    * `c` and `m` are relatively prime.
    * If `q` divides `m`, then `q` divides $a-1$.
    * If 4 divides `m`, then 4 divides $a-1$.
#### Practice Questions: Random Number Generation

1.  Using the Mixed Congruential Method with $a=3$, $c=5$, $m=16$, and $X_0=1$, generate the first 5 random numbers.
2.  Explain why the selection of constants $a$, $c$, and $m$ is crucial in congruential random number generators.
3.  A QBASIC function to generate random numbers between `p` and `m` (inclusive) uses the formula: `INT(RND * (m - p + 1) + p)`. Explain each part of this formula.

### 2. Modeling: Types, Processes, and Classifications

#### Introduction to Modelling and Simulation

Human decision-making is often clouded by uncertainty and imprecision. Simulation helps in evaluating and optimizing alternatives when direct testing is impractical or expensive. It is especially valuable for systems with complex interactions or delayed consequences.

#### Definitions

* **Modelling:** Creating abstract representations of systems to understand or predict behavior.
* **Model:** A representation (physical, conceptual, or mathematical) of a real-world entity or process.
* **Simulation:** Using a model to study the behavior of a system over time.
* **Computer model:** A model simulated on a computer with adjustable parameters.
#### Explanations of Key Terms in Modelling

* **System:** A collection of interacting components (entities, processes, and resources) that work together to achieve a specific purpose.
    * **Example:** A manufacturing plant with machines, workers, and materials.
* **Event:** A discrete occurrence that triggers a change in the system's state at a specific time.
    * **Example:** In a traffic simulation, a "car arrival" or "traffic light change" is an event.
* **Entity:** An individual object or component within the system that moves through processes and interacts with resources.
    * **Example:** Customers in a bank queue, packets in a network, or products on an assembly line.
* **State:** The current condition of the system at any given time, defined by the values of key variables.
    * **Example:** In a hospital simulation, the state could include "number of occupied beds" or "queue length in ER".
* **Input:** Data, parameters, or external factors fed into the model to define scenarios or initial conditions.
    * **Example:** Arrival rates of customers, machine failure probabilities, or weather conditions in a crop model.
* **Output:** Results generated by the simulation, used for analysis or decision-making.
    * **Example:** Average wait time, system throughput, or resource utilization rates.

#### Types of Models

1.  **Physical Models:** Tangible representations (e.g., model airplanes).
2.  **Mathematical Models:** Use equations to describe relationships.
3.  **Analogue Models:** Use physical or electrical analogs (e.g., gauges).
4.  **Simulation Models:** Use sequences of random numbers to emulate real systems.
5.  **Heuristic Models:** Rule-of-thumb-based, often intuitive.
6.  **Deterministic Models:** Fixed inputs, no randomness.
7.  **Stochastic Models:** Include variables subject to probability.

#### Classifications of Models (with differentiation)

* **Discrete vs. Continuous Models**

| Discrete Model | Continuous Model |
| :----------------------------------------------------------- | :---------------------------------------------------------- |
| Represents systems where changes occur at specific, separate points in time or space. | Represents systems where changes occur smoothly over time or space. |
| Uses distinct, countable values (e.g., integers). | Uses real numbers (infinite possible values). |
| **Example:** Queueing system (customers arrive at discrete times). | **Example:** Fluid flow in a pipe (pressure changes continuously). |

* **Static vs. Dynamic Models**

| Static Model | Dynamic Model |
| :------------------------------------------------------------- | :--------------------------------------------------------------- |
| Represents a system at a single point in time (no time dependency). | Represents a system over time (variables change with time). |
| Used for equilibrium analysis or snapshots. | Used for studying evolution and transient behavior. |
| **Example:** Economic supply-demand equilibrium model. | **Example:** Population growth model (tracking changes yearly). |

* **Linear vs. Nonlinear Models**

| Linear Model | Nonlinear Model |
| :--------------------------------------------------------------- | :-------------------------------------------------------------------- |
| Output is directly proportional to input (follows superposition principle). | Output changes disproportionately to input (complex interactions). |
| Easier to analyze mathematically. | Often requires numerical methods for solutions. |
| **Example:** Ohm's Law ($V=IR$, voltage linear with current). | **Example:** Pendulum motion (due to $\sin(\theta)$ in equations). |

* **Deterministic vs. Stochastic Models**

| Deterministic Model | Stochastic Model |
| :---------------------------------------------------------- | :------------------------------------------------------------ |
| No randomness—same inputs always produce the same outputs. | Incorporates randomness (probabilistic elements). |
| Used when system behavior is fully predictable. | Used for real-world uncertainty (e.g., failures, random arrivals). |
| **Example:** Projectile motion (physics equations with no randomness). | **Example:** Monte Carlo simulation (stock price prediction with random variations). |

#### Modelling Procedure

1.  Examine the real-world situation.
2.  Extract essential features.
3.  Construct a model.
4.  Solve and experiment.
5.  Draw conclusions.
6.  Refine if necessary.
7.  Implement the model.

#### Advantages of Using Models

* Safer and cheaper than real-world testing.
* Easier to control and manipulate.
* Useful for training (e.g., flight simulators).

#### Practice Questions: Modelling: Types, Processes, and Classifications

1.  Define "model" and "modelling" and explain their relationship to simulation.
2.  Describe the seven steps involved in the modelling procedure.
3.  Provide an example of a real-world scenario and classify it using three different model types (e.g., dynamic, stochastic, and continuous). Justify your classifications.

### 3. Modelling with Difference Equations and Differential Equations

#### Difference Equations

A difference equation is used to predict the future value of a variable based on its previous values. It expresses the value of a quantity at a given time in terms of its past values.

* If the model depends on time, it is called a **dynamic model**.
* If the model is independent of time, it is called a **static model**.

**General Form of First Order Difference Equation:**
$U_n = kU_{n-1} + c$ or $U_{n+1} = kU_n + c$

**General Solution:**
* If $k \ne 1$: $U_n = k^n U_0 + \frac{c(k^n - 1)}{k-1}$
* If $k = 1$: $U_n = U_0 + nc$

**Example: Malthusian Population Model**
Let:
* $P=$ population
* $f=$ birth rate
* $d=$ death rate
* $\Delta P=$ change in population

$\Delta P = fP - dP = (f-d)P$
Define $r=f-d$ (net growth rate), then:
$\Delta P = rP$

In difference form:
$P_{t+1} = P_t + rP_t = (1+f-d)P_t$

**Example: Loan Repayment Model**
Key Variables:
* $U_n$: Amount owing after n repayments
* $k$: Interest rate multiplier (e.g., 2% monthly $\rightarrow k=0.02$)
* $c$: Fixed repayment amount per period

Difference Equation for Loan Repayment:
$U_n = U_{n-1} + kU_{n-1} - c = (1+k)U_{n-1} - c$

#### Differential Equations

**Newton's Law of Cooling (Temperature Model)**
Newton's Law of Cooling states that: The rate of change of the temperature of an object is proportional to the difference between the object's temperature and the surrounding temperature.

Definitions and Variables:
* Let $t=$ time (independent variable)
* Let $T=$ temperature of the object at time t (dependent variable)
* Let $T_s=$ constant surrounding temperature
* Let $K=$ proportionality constant

Mathematical Formulation:
$\frac{dT}{dt} \propto (T-T_s)$
$\frac{dT}{dt} = K(T-T_s)$

Solving the Differential Equation:
1.  Separate the variables: $\frac{dT}{T-T_s} = K dt$
2.  Integrate both sides: $\int \frac{1}{T-T_s} dT = \int K dt$
    $ln|T-T_s| = Kt+C$
3.  Take the exponential of both sides: $|T-T_s| = e^{Kt+C}$
    $T-T_s = \pm e^{Kt+C}$
4.  Simplify: $T-T_s = K_1 e^{Kt}$, where $K_1 = \pm e^C$
5.  Solve for T: $T = T_s + K_1 e^{Kt}$
    This is the general solution: $T(t) = T_s + K_1 e^{Kt}$.

**Finding the Particular Solution:**
Apply an initial condition: Let $t_0=0$ (initial time) and $T(0)=T_0$ (initial temperature).
$T_0 = T_s + K_1 e^{K \cdot 0}$
$T_0 = T_s + K_1 \cdot 1$
$K_1 = T_0 - T_s$

Substitute $K_1$ back into the general solution for the **Particular Solution**:
$T(t) = T_s + (T_0 - T_s)e^{Kt}$

**Mixing Problem Models**
In mixing problems, the rate of change of a substance in a system is equal to the rate at which it enters the system minus the rate at which it exits the system.

Mathematical Formulation:
Let $y(t)=$ amount of the substance in the system at time t.
$\frac{dy}{dt}=$ rate of change of the substance over time.
The model is: $\frac{dy}{dt} = \text{Rate In - Rate Out}$.

#### Practice Questions: Modelling with Difference Equations and Differential Equations

1.  **Difference Equation Problem:**
    A biologist is employed by a fishery to help regulate the population of trout in a lake. The biologist estimates that the lake initially contains 150,000 trout, and that the trout population is growing at the rate of 15% per year. Currently, the fishery harvests trout at the rate of 30,000 fish per year.
    * Set up the difference equation for the fish population $P_n$ after $n$ years.
    * Solve the difference equation to find an explicit formula for $P_n$.
    * How long does it take before the lake contains no trout?
    * What is the maximum harvesting rate that can be allowed if the fishery wants the lake to always contain some trout?

2.  **Differential Equation Problem:**
    A cup of coffee at 95°C is placed in a room whose temperature is 20°C. If the coffee cools to 80°C in 5 minutes, find the temperature of the coffee after 10 minutes. Use Newton's Law of Cooling.

### 4. Queuing Theory: Queuing Behaviors, Discussion, and Calculations

Queuing theory describes systems where customers wait for a service.

**Queuing Behaviors:**
Queuing behavior describes how customers (or entities) act when faced with a queue. Common behaviors include:
* **Balking:** A customer decides not to join the queue because it is too long.
* **Reneging:** A customer joins the queue but leaves before being served because the wait is too long.
* **Jockeying:** A customer moves from one queue to another in a multi-queue system if they perceive the other queue is moving faster.

**Key Components of a Queuing System:**
1.  **Arrival Process:** How customers arrive (e.g., Poisson distribution for random arrivals).
2.  **Service Process:** How customers are served (e.g., exponential distribution for service times).
3.  **Number of Servers:** How many service channels are available.
4.  **Queue Discipline:** The rule by which customers are selected for service (e.g., FIFO - First-In, First-Out, LIFO - Last-In, First-Out, SPT - Shortest Processing Time).
5.  **System Capacity:** The maximum number of customers allowed in the system.
6.  **Population Size:** Whether the source of customers is finite or infinite.

**Common Notations (Kendall's Notation - A/B/C):**
* **A:** Arrival distribution (e.g., M for Markovian/Poisson, D for Deterministic, G for General).
* **B:** Service time distribution (e.g., M, D, G).
* **C:** Number of servers.

**Major Formulas (for an M/M/1 queue - Poisson arrivals, exponential service, 1 server):**
* **$\lambda$ (lambda):** Arrival rate (average number of arrivals per unit of time).
* **$\mu$ (mu):** Service rate (average number of customers served per unit of time).
* **$\rho$ (rho):** Utilization factor (proportion of time the server is busy).
    * $\rho = \frac{\lambda}{\mu}$
* **$L_q$:** Average number of customers in the queue.
    * $L_q = \frac{\lambda^2}{\mu(\mu - \lambda)}$
* **$L_s$:** Average number of customers in the system (queue + being served).
    * $L_s = \frac{\lambda}{\mu - \lambda}$
* **$W_q$:** Average waiting time in the queue.
    * $W_q = \frac{L_q}{\lambda}$
* **$W_s$:** Average waiting time in the system (waiting + service time).
    * $W_s = \frac{L_s}{\lambda}$
* **$P_0$:** Probability of zero customers in the system.
    * $P_0 = 1 - \rho$
* **$P_n$:** Probability of exactly $n$ customers in the system.
    * $P_n = \rho^n P_0$

#### Practice Questions: Queuing Theory

1.  Explain the concepts of "balking" and "renegade" in queuing behavior.
2.  An M/M/1 queuing system has an arrival rate of 10 customers per hour and a service rate of 15 customers per hour. Calculate:
    * The utilization factor ($\rho$).
    * The average number of customers in the queue ($L_q$).
    * The average waiting time in the system ($W_s$).

### 5. Assignment Review

The concepts and problems from your assignment have been incorporated into the relevant sections of these notes:

* **Differentiation between types of models** (Assignment Question 1) is covered in the "Classifications of Models" section.
* **Explanation of terms related to modeling** (Assignment Question 2) is covered in the "Explanations of Key Terms in Modelling" section.
* **Trout Population Problem** (Assignment Question 3) is covered as a detailed example and practice question under "Modelling with Difference Equations".
* **Cache System Hit Rate Problem** (Assignment Question 4) is also covered as a detailed example under "Modelling with Difference Equations".