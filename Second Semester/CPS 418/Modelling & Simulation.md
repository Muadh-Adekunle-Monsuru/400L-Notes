
Features of modelling a system
- System 
- Event
- Entity
- State
- Input 
- Output


---

### **Module Overview**
The module consists of six units:
1. Basics of Modelling and Simulation
2. Random Numbers
3. Random Number Generation
4. Monte Carlo Method
5. Statistical Distribution Functions
6. Common Probability Distributions

---

### **Unit 1: Basics of Modelling and Simulation**

#### **1. Introduction**
- Human decision-making is often clouded by uncertainty and imprecision.
- **Simulation** helps in evaluating and optimizing alternatives when direct testing is impractical or expensive.
- It's especially valuable for systems with complex interactions or delayed consequences.

#### **2. Intended Learning Outcomes**
After studying this unit, students should be able to:
- Define "model" and "modelling"
- Understand when and why models are used
- Describe the modelling process
- Identify different types of models

#### **3. Main Content**

##### **Definitions**
- **Modelling:** Creating abstract representations of systems to understand or predict behavior.
- **Model:** A representation (physical, conceptual, or mathematical) of a real-world entity or process.
- **Simulation:** Using a model to study the behavior of a system over time.
- **Computer model:** A model simulated on a computer with adjustable parameters.

##### **What is Modelling and Simulation?**
- It involves understanding systems and their interactions through iterative development and testing.
- It's both a science and an art‚Äî best learned by practice.

##### **Types of Models**
1. **Physical Models:** Tangible representations (e.g., model airplanes).
2. **Mathematical Models:** Use equations to describe relationships.
3. **Analogue Models:** Use physical or electrical analogs (e.g., gauges).
4. **Simulation Models:** Use sequences of random numbers to emulate real systems.
5. **Heuristic Models:** Rule-of-thumb-based, often intuitive.
6. **Deterministic Models:** Fixed inputs, no randomness.
7. **Stochastic Models:** Include variables subject to probability.

##### **Advantages of Using Models**
- Safer and cheaper than real-world testing
- Easier to control and manipulate
- Useful for training (e.g., flight simulators)

##### **Applications**
- Used in various fields from concept development to analysis and training.

##### **Modelling Procedure**
1. Examine the real-world situation.
2. Extract essential features.
3. Construct a model.
4. Solve and experiment.
5. Draw conclusions.
6. Refine if necessary.
7. Implement the model.

---

#### **4. Self-Assessment Questions**
- Define and differentiate between model, modelling, simulation, and computer model.
- List the steps in the modelling process.
- Explain the reasons for using models.

---

#### **5. Conclusion**
The unit offers an overview of fundamental modelling concepts to prepare students for deeper exploration into simulation techniques.


---

Congrumental
INT(RND x N + 1 - P) + P

Generate a random number between 1-6
INT(RND x 6) +1



One way to get random digits is to simply start with an arbitrary number with a specified number of digits, for example 4 digits. The first number is called the seed. The seed is multiplied by a constant number of the same number of digits(length), and the desired number of digits is taken off the right end of the product. The result becomes the new seed. It is again multiplied by the original constant to generate a new product, and the process is repeated as often as desired. The result is a series of digits that appear randomly distributed as though generated by throwing a die or spinning a wheel. This type of algorithm is called a congruential generator.

---

## ‚úÖ **Unit 3: Congruential Random Number Generator**

---

### üß© **1. Introduction**

* Random number generation is essential in simulations.
* When no built-in RNG is available, developers must implement one manually.
* Classical RNGs have short periods and low uniformity.
* Modern congruential generators offer longer periods and better uniformity.

---

### üéØ **2. Intended Learning Outcomes**

By the end of this unit, you should be able to:

* Explain the Congruential Method of random number generation.
* Select suitable parameters (`a`, `c`, `m`) for implementation.
* Translate the methods into working code.
* Understand alternative methods: Mid-square, Mid-product, and Fibonacci.

---

### üìö **3. Main Content**

#### ‚úÖ 3.1 **Congruential Method**

* Based on **modulo arithmetic**:
  `Xn+1 = (aXn + c) mod m`

  * `X0`: Seed (initial value)
  * `a, c, m`: Carefully selected constants
* Types:

  * **Mixed Congruential Method**: `c ‚â† 0`
  * **Multiplicative Method**: `c = 0`

**Example:**
Using `a=5`, `c=7`, `m=8`, `X0=4`:

```
X1 = (5√ó4 + 7) mod 8 = 3
X2 = (5√ó3 + 7) mod 8 = 6
...
X8 = 4 ‚Üí cycle repeats
```

To scale to a desired range `[p, m]`:
`Xn+1 = ((aXn + c) mod (m + 1 - p)) + p`
#### ‚öôÔ∏è Example QBASIC Function:

```basic
FUNCTION RAND (SEED)
CONST M = 32767, A = 2743, C = 5923
IF SEED < 0 THEN SEED = SEED + M
SEED = (A * SEED + C) MOD M
RAND = SEED / M
END FUNCTION
```

#### üìå Example Program: Generate 20 integers between 1‚Äì64

```basic
DECLARE FUNCTION RAND(X)
DIM SHARED SEED
SEED = TIMER
FOR K% = 1 TO 20
  SEED = RAND(SEED)
  PRINT SEED
NEXT K%
FUNCTION RAND (SEED)
CONST M = 64, A = 27, C = 13
IF SEED < 0 THEN SEED = SEED + M
SEED = (A * SEED + C) MOD M + 1
RAND = SEED
END FUNCTION
```

---

#### ‚öôÔ∏è 3.2 **Choosing a, c, and m**

* Based on **Knuth‚Äôs Rules** for full period:

  * `a` and `c` must be carefully chosen.
  * For **m**:

    * If prime, `c` can be 0.
    * Conditions for full period:

      * `c` and `m` are relatively prime.
      * If `q` divides `m`, then `q` divides `a-1`.
      * If `4` divides `m`, then `4` divides `a-1`.

---

#### üé≤ 3.3 **RANECU Generator (FORTRAN)**

* Combines 3 multiplicative congruential generators.
* Suitable for 16-bit computers.
* Period > 8√ó10¬π¬≤
* Uses 3 seed values with constraints.

**Core Algorithm Logic:**

```fortran
ISEED1 = 157*(ISEED1 - K*206) - K*21
ISEED2 = 146*(ISEED2 - K*217) - K*45
ISEED3 = 142*(ISEED3 - K*222) - K*133
...
IZ = (ISEED1 - ISEED2 + ISEED3) mod 32362
```

---

#### üßÆ 3.4 **Other Random Number Generators**

| **Method**                 | **Formula**                   | **Comments**                   |
| -------------------------- | ----------------------------- | ------------------------------ |
| **Quadratic Congruential** | `Xn+1 = (dX¬≤ + cX + a) mod m` | `m` should be a power of 2     |
| **Mid-square**             | `Xn+1 = middle_digits(Xn¬≤)`   | Tends to degenerate, slow      |
| **Mid-product**            | `Xn+1 = middle_digits(cXn)`   | Better than mid-square         |
| **Fibonacci**              | `Xn+1 = (Xn + Xn-1) mod m`    | Needs 2 seeds, poor randomness |

> ‚ö†Ô∏è These are mainly **of historical interest** and not suitable for modern simulation tasks.

---

### ‚úçÔ∏è **4. Self-Assessment Exercises**

1. Write a QBASIC program using **Quadratic Congruential Method** for 15 integers (1‚Äì50).
2. Use **Multiplicative Method** with `a=5`, `m=8`, `X0=4` and analyze the results.
3. Create a **Mixed Congruential QBASIC function** for random numbers between 30‚Äì100.
4. Generate the following sequences:

   * a. `Xn+1 ‚â° (Xn + 3) mod 10`, `X0 = 2` (10 values)
   * b. `Xn+1 ‚â° (5Xn + 1) mod 8`, `X0 = 4` (8 values)
   * c. `Xn+1 ‚â° (61Xn + 27) mod 100`, `X0 = 40` (two-digit numbers)
   * d. `Xn+1 ‚â° (21Xn + 53) mod 100`, `X0 = 33` (five-digit numbers)

---

### üìå **Conclusion**

* Congruential methods form the backbone of many pseudo-random number generators.
* Careful selection of constants leads to long periods and good randomness.
* Understanding different methods helps in choosing the right one for simulations.

---

### üßæ **Summary**

* **Congruential methods** are practical, mathematical ways to generate pseudo-random numbers.
* The **Mixed and Multiplicative** methods are most commonly used.
* **Parameter selection** is crucial for effectiveness.
* **Other methods** (mid-square, Fibonacci) are outdated and rarely used today.

---

All equations are models, but not all models are equations
`y` is the dependent variable
`x` is the independent variable
`t` can also be an independent variable

### **Temperature Model ‚Äì Newton's Law of Cooling**

Newton's Law of Cooling states that:

> *The rate of change of the temperature of an object is proportional to the difference between the object's temperature and the surrounding temperature.*

---

#### **Definitions and Variables**

* Let **$t$** = time (independent variable)
* Let **$T$** = temperature of the object at time $t$ (dependent variable)
* Let **$T_s$** = constant surrounding temperature
* Let **$K$** = proportionality constant

---

#### **Mathematical Formulation**

$$
\frac{dT}{dt} \propto (T - T_s)
$$

$$
\frac{dT}{dt} = K(T - T_s)
$$

---

#### **Solving the Differential Equation**

Separate the variables:

$$
\frac{dT}{T - T_s} = K\,dt
$$

Integrate both sides:

$$
\int \frac{1}{T - T_s} \, dT = \int K \, dt
$$

$$
\ln |T - T_s| = Kt + C
$$

Where $C$ is the constant of integration.
Take the exponential of both sides to eliminate the logarithm:

$$
|T - T_s| = e^{Kt + C}
$$

$$
T - T_s = \pm e^{Kt + C}
$$

Since $e^{Kt + C} = e^{Kt} \cdot e^C$, we can simplify by absorbing the sign and constant into a new constant $K_1$:

$$
T - T_s = K_1 e^{Kt}, \quad \text{where } K_1 = \pm e^C
$$

Solve for $T$:

$$
T = T_s + K_1 e^{Kt}
$$

---


$$
\boxed{T(t) = T_s + K_1 e^{Kt}}
$$
This is the **general solution** to the temperature model based on Newton's Law of Cooling.

### **Finding the Particular Solution**

To determine the **particular solution**, we apply an initial condition:

Let:

* $t_0 = 0$ (initial time)
* $T(0) = T_0$ (initial temperature of the object)

Start with the general solution:

$$
T(t) = T_s + K_1 e^{Kt}
$$

Apply the initial condition $T(0) = T_0$:

$$
T_0 = T_s + K_1 e^{K \cdot 0}
$$

$$
T_0 = T_s + K_1 \cdot 1
$$

$$
K_1 = T_0 - T_s
$$

---

### ‚úÖ **Particular Solution**

Substitute $K_1 = T_0 - T_s$ into the general solution:

$$
\boxed{T(t) = T_s + (T_0 - T_s) e^{Kt}}
$$

---

This equation models how the temperature $T(t)$ of an object changes over time $t$, given its initial temperature $T_0$ and the constant surrounding temperature $T_s$.


--- 
### **Mixing Problem Models**

In mixing problems:

> **The rate of change of a substance in a system is equal to the rate at which it enters the system minus the rate at which it exits the system.**

---
#### **Mathematical Formulation**
Let:
* $y(t)$ = amount of the substance in the system at time $t$
* $\frac{dy}{dt}$ = rate of change of the substance over time

Then the model is:

$$
\frac{dy}{dt} = \text{Rate In} - \text{Rate Out}
$$

This differential equation forms the basis for solving mixing problems involving inflow and outflow of substances like salt, chemicals, etc.


---
### **Difference Equation**

A **difference equation** is used to predict the future value of a variable based on its previous values. It expresses the value of a quantity $Q$ at a given time in terms of its past values.

* If the model depends on time, it is called a **dynamic model**.
* If the model is independent of time, it is called a **static model**.

---

#### **Example: Malthusian Population Model**

Let:

* $P$ = population
* $f$ = birth rate
* $d$ = death rate
* $\Delta P$ = change in population

$$
\Delta P = fP - dP = (f - d)P
$$

Define $r = f - d$ (net growth rate), then:

$$
\Delta P = rP
$$

In difference form:

$$
P_{t+1} = P_t + rP_t = (1 + f-d)P_t
$$

This equation model time steps.

---
### **Difference Equation for an Organism with a Rigid Lifecycle**

Suppose an organism has a **rigid lifecycle** where:
* Each **female lays 200 eggs**, and then all **adults die**.
* After the eggs hatch, **only 3%** survive to become **adult females** (the rest die or are males).

---

#### **Step 1: Define Rates**

* **Death rate** $d = 1$ (since all adults die)
* **Survival (birth) rate** $f = 0.03 \times 200 = 6$

---

#### **Step 2: Write the Difference Equation**

We use the general form:

$$
P_{t+1} = (1 + f - d)P_t
$$

Substitute $f = 6$ and $d = 1$:

$$
P_{t+1} = (1 + 6 - 1)P_t = 6P_t
$$

---

#### **Step 3: Initial Conditions and First Iterations**

Let the initial population be:

$$
P_0 = 6
$$

Then:

$$
P_1 = 6P_0 = 6 \times 6 = 36
$$
---

### **Modelling Loans with a Difference Equation**

When modeling loan repayment using a difference equation, the following elements must be known:

* The **interest rate** (per repayment period)
* The **loan term** (number of repayment periods)
* The **repayment amount and frequency**

---

#### **Key Variables**

* $U_n$: Amount owing after $n$ repayments
* $k$: Interest rate multiplier (e.g., 2% monthly ‚Üí $k = 0.02$)
* $c$: Fixed repayment amount per period

---

#### **Difference Equation for Loan Repayment**

$$
U_n = U_{n-1} + kU_{n-1} - c = (1 + k)U_{n-1} - c
$$

This recurrence relation reflects the fact that interest is added to the loan balance before a repayment is made.

---

#### **General Solution**

$$
U_n = k^n U_0 + \frac{c(k^n - 1)}{k - 1}
$$


---

### ‚úÖ **Example: Solve a Loan Repayment Problem**

**Problem**: Find the monthly repayment on a **\$500 loan** at **24% interest per annum**, repaid over **18 months**.

---

#### **Step 1: Convert Annual Interest to Monthly**

$$
\text{Annual interest rate} = 24\% \Rightarrow \text{Monthly rate} = \frac{24}{12} = 2\%
\Rightarrow k = 0.02
$$

$$
\text{So, } 1 + k = 1.02
$$

---

#### **Step 2: Use Present Value of an Annuity Formula**

To find the monthly repayment $c$, we use the annuity formula:

$$
U_0 = c \cdot \frac{1 - (1 + k)^{-n}}{k}
$$

Where:

* $U_0 = 500$
* $k = 0.02$
* $n = 18$

$$
500 = c \cdot \frac{1 - (1.02)^{-18}}{0.02}
$$

$$
500 = c \cdot \frac{1 - 0.6982}{0.02}
= c \cdot \frac{0.3018}{0.02}
= c \cdot 15.09
$$

$$
c = \frac{500}{15.09} \approx \boxed{33.14}
$$

---

### ‚úÖ **Answer:**

The monthly repayment is approximately **\$33.14**


---

## First Order difference equation

$$
U_n =   KU_{n-1} + c
$$
$$
U_{n+1} =   KU_n + c
$$
general solution

if k != 1
$$
U_n = k^n U_0 + \frac{c(k^n - 1)}{k - 1}
$$

if k = 1
$$
U_n =   U_0 + nc
$$


---
**Problem**: Find the monthly repayment on a **\$500 loan** at **24% interest per annum**, repaid over **18 months**.

Let Un be the amount owing after n months, U0 is = 500

Un = Un-1 + 2%Un-1
    = Un-1 + 0.02Un-1 - C
	= 1.02Un-1 - C

Solution
$$
U_n = k^n U_0 + \frac{c(k^n - 1)}{k - 1}
$$
$$
U_n = 1.02^n 500 - \frac{c(1.02^n - 1)}{0.02}
$$
$$
U_n = 1.02^n 500 - 50c(1.02^n - 1)
$$
at n = 18, U18 = 0 
$$
0 = 1.02^{18} 500 - 50c(1.02^{18} - 1)
$$
c = 33.35
o